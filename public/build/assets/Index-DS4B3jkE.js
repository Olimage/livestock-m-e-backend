import{r as c,w as j,A as M,g as N,h,i as k,b as t,u as p,j as A,d as i,t as o,q as L,v as H,y as $,l as w,c as a,s as D,n as g,f as l,F as x,e as T}from"./app-56Xu7eoK.js";import{B as O}from"./BeLayout-DLUsJ5q0.js";import{_ as F}from"./Includes-DZVdXlUc.js";const U={class:"row mb-2"},q={class:"col-lg-12"},z={class:"text-muted"},E={class:"row card mb-2"},P={class:"col-sm-12 col-md-12 col-lg-12"},G={class:"card-body"},J={class:"row"},K={class:"col-md-4"},Q={class:"card text-bg-success mb-3"},R={class:"card-body"},W={class:"card-title text-white"},X={class:"row mb-3"},Y={class:"col-md-8 mb-2"},Z={class:"input-group"},tt={class:"col-md-2 mb-2"},st={class:"col-md-2 mb-2"},et={class:"row"},lt={class:"col-lg-12"},ot={class:"card"},at={class:"card-body"},nt={class:"table-responsive"},rt={class:"table table-hover align-middle"},it={key:0},dt={class:"badge bg-success"},ut={key:0,class:"badge bg-info"},ct={key:1,class:"text-muted"},mt={key:0},bt={class:"text-muted"},vt={key:1,class:"text-muted"},pt={key:0},gt={class:"text-muted"},ft={key:1,class:"text-muted"},_t={key:1,class:"text-muted"},yt={class:"btn-group",role:"group"},ht=["onClick"],kt={key:0,class:"d-flex justify-content-between align-items-center mt-3"},wt={class:"text-muted small"},xt={class:"pagination mb-0"},Tt=["innerHTML"],Ct={__name:"Index",props:{indicators:Object,filters:Object,totalCount:Number},setup(n){const m=n,b=c(m.filters.search||""),v=c(m.filters.per_page||10),u=c(m.filters.sort_by||"created_at"),d=c(m.filters.sort_order||"desc"),C=c(null);j([b,v,u,d],()=>{clearTimeout(C.value),C.value=setTimeout(()=>{M.get(route("programs.indicators.index"),{search:b.value,per_page:v.value,sort_by:u.value,sort_order:d.value},{preserveState:!0,preserveScroll:!0})},300)});const V=r=>{confirm("Delete this indicator?")&&M.delete(route("programs.indicators.destroy",r),{preserveScroll:!0})},f=r=>{u.value===r?d.value=d.value==="asc"?"desc":"asc":(u.value=r,d.value="asc")},_=r=>u.value!==r?"bi bi-arrow-down-up":d.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(r,s)=>(l(),N(O,null,{default:h(()=>{var I,S,B;return[k(p(A),{title:"Indicators"}),s[24]||(s[24]=t("div",{class:"row"},[t("div",{class:"col-lg-12"},[t("h5",{class:"mt-4 fw-400"},"Indicators Management"),t("hr")])],-1)),t("div",U,[t("div",q,[t("p",z,[s[5]||(s[5]=i(" Manage measurement indicators for frameworks. Total: ",-1)),t("strong",null,o(n.totalCount),1)])])]),t("div",E,[t("div",P,[t("div",G,[t("div",J,[t("div",K,[t("div",Q,[s[6]||(s[6]=t("div",{class:"card-header"},"Total Indicators",-1)),t("div",R,[t("h3",W,o(n.totalCount),1)])])])])])]),t("div",X,[t("div",Y,[t("div",Z,[s[7]||(s[7]=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-search"})],-1)),L(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>b.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[H,b.value]])])]),t("div",tt,[L(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>v.value=e),class:"form-select"},[...s[8]||(s[8]=[t("option",{value:10},"10 per page",-1),t("option",{value:25},"25 per page",-1),t("option",{value:50},"50 per page",-1),t("option",{value:100},"100 per page",-1)])],512),[[$,v.value]])]),t("div",st,[k(p(w),{href:r.route("programs.indicators.create"),class:"btn btn-success w-100"},{default:h(()=>[...s[9]||(s[9]=[t("i",{class:"bi bi-plus-circle"},null,-1),i(" Add Indicator ",-1)])]),_:1},8,["href"])])])]),t("div",et,[t("div",lt,[t("div",ot,[t("div",at,[t("div",nt,[t("table",rt,[t("thead",null,[t("tr",null,[t("th",{onClick:s[2]||(s[2]=e=>f("code")),class:"sortable"},[s[10]||(s[10]=i(" Code ",-1)),t("i",{class:g(_("code"))},null,2)]),t("th",{onClick:s[3]||(s[3]=e=>f("title")),class:"sortable"},[s[11]||(s[11]=i(" Title ",-1)),t("i",{class:g(_("title"))},null,2)]),s[13]||(s[13]=t("th",null,"Description",-1)),s[14]||(s[14]=t("th",null,"Type",-1)),s[15]||(s[15]=t("th",null,"Baseline",-1)),s[16]||(s[16]=t("th",null,"Target",-1)),s[17]||(s[17]=t("th",null,"Tiers",-1)),t("th",{onClick:s[4]||(s[4]=e=>f("created_at")),class:"sortable"},[s[12]||(s[12]=i(" Created ",-1)),t("i",{class:g(_("created_at"))},null,2)]),s[18]||(s[18]=t("th",null,"Actions",-1))])]),t("tbody",null,[(I=n.indicators)!=null&&I.data&&n.indicators.data.length===0?(l(),a("tr",it,[...s[19]||(s[19]=[t("td",{colspan:"9",class:"text-center text-muted"},"No indicators found",-1)])])):D("",!0),(l(!0),a(x,null,T((S=n.indicators)==null?void 0:S.data,e=>(l(),a("tr",{key:e.id},[t("td",null,[t("span",dt,o(e.code),1)]),t("td",null,[t("strong",null,o(e.title),1)]),t("td",null,[t("small",null,o(e.description?e.description.substring(0,80)+"...":"N/A"),1)]),t("td",null,[e.indicator_type?(l(),a("span",ut,o(e.indicator_type),1)):(l(),a("span",ct,"—"))]),t("td",null,[e.baseline_value?(l(),a("small",mt,[i(o(e.baseline_value)+" "+o(e.measurement_unit||""),1),s[20]||(s[20]=t("br",null,null,-1)),t("span",bt,"("+o(e.baseline_year)+")",1)])):(l(),a("span",vt,"—"))]),t("td",null,[e.target_value?(l(),a("small",pt,[i(o(e.target_value)+" "+o(e.measurement_unit||""),1),s[21]||(s[21]=t("br",null,null,-1)),t("span",gt,"("+o(e.target_year)+")",1)])):(l(),a("span",ft,"—"))]),t("td",null,[t("small",null,[e.tiers&&e.tiers.length>0?(l(!0),a(x,{key:0},T(e.tiers,y=>(l(),a("span",{key:y.id,class:"badge bg-info me-1"},o(y.tier),1))),128)):(l(),a("span",_t,"No tiers"))])]),t("td",null,[t("small",null,o(new Date(e.created_at).toLocaleDateString()),1)]),t("td",null,[t("div",yt,[k(p(w),{href:r.route("programs.indicators.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:h(()=>[...s[22]||(s[22]=[t("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:y=>V(e.id),class:"btn btn-sm btn-outline-danger"},[...s[23]||(s[23]=[t("i",{class:"bi bi-trash"},null,-1)])],8,ht)])])]))),128))])])]),(B=n.indicators)!=null&&B.data&&n.indicators.data.length>0?(l(),a("div",kt,[t("div",wt," Showing "+o(n.indicators.from)+" to "+o(n.indicators.to)+" of "+o(n.indicators.total)+" entries ",1),t("nav",null,[t("ul",xt,[(l(!0),a(x,null,T(n.indicators.links,e=>(l(),a("li",{key:e.label,class:g(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(l(),N(p(w),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(l(),a("span",{key:1,class:"page-link",innerHTML:e.label},null,8,Tt))],2))),128))])])])):D("",!0)])])])])]}),_:1}))}},Mt=F(Ct,[["__scopeId","data-v-9ccff237"]]);export{Mt as default};
