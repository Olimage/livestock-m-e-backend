import{l as w,C as k,c as l,g as i,a as e,b as r,e as v,d as g,j as C,t as c,n as o,F as h,f as _,s as y,v as N,D as S,T as x,r as O,u as L,m as A,E as B}from"./app-DcNYCev6.js";import{_ as p,a as $}from"./Includes-b2JoZYth.js";const I={name:"TopBar",components:{Link:w},emits:["toggle-sidebar"],computed:{user(){var n;return((n=this.$page.props.auth)==null?void 0:n.user)||this.$page.props.user||{}},userName(){return this.user.name||"Guest"},userEmail(){return this.user.email||""},notificationCount(){return this.$page.props.notificationCount||0}},methods:{toggleSidebar(){this.$emit("toggle-sidebar")}}},D={class:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},T={class:"container-fluid"},E={class:"d-flex align-items-center"},V={class:"dropdown"},F={class:"btn btn-link text-white dropdown-toggle d-flex align-items-center gap-2",type:"button","data-bs-toggle":"dropdown"},M={class:"user-name d-none d-md-inline"},P={key:0,class:"badge bg-danger"},U={class:"dropdown-menu dropdown-menu-end"},W={class:"dropdown-header"},j={class:"d-flex align-items-center"},q={class:"fw-bold"},z={class:"text-muted"};function G(n,s,u,b,f,a){const m=k("Link");return i(),l("nav",D,[e("div",T,[e("button",{class:"btn btn-link text-white d-lg-none me-2",type:"button",onClick:s[0]||(s[0]=(...t)=>a.toggleSidebar&&a.toggleSidebar(...t))},[...s[1]||(s[1]=[e("i",{class:"bi bi-list fs-4"},null,-1)])]),r(m,{class:"navbar-brand",href:"/baseline/"},{default:v(()=>[...s[2]||(s[2]=[g(" FMLD ",-1)])]),_:1}),e("div",E,[e("div",V,[e("button",F,[s[3]||(s[3]=e("i",{class:"bi bi-person-circle fs-4"},null,-1)),e("span",M,c(a.userName),1),a.notificationCount>0?(i(),l("span",P,c(a.notificationCount),1)):C("",!0)]),e("ul",U,[e("li",W,[e("div",j,[s[4]||(s[4]=e("i",{class:"bi bi-person-circle fs-3 me-2"},null,-1)),e("div",null,[e("div",q,c(a.userName),1),e("small",z,c(a.userEmail),1)])])]),s[6]||(s[6]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),s[7]||(s[7]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[r(m,{href:n.route("app.logout"),class:"dropdown-item"},{default:v(()=>[...s[5]||(s[5]=[e("i",{class:"bi bi-box-arrow-right me-2"},null,-1),g("Logout ",-1)])]),_:1},8,["href"])])])])])])])}const H=p(I,[["render",G],["__scopeId","data-v-a8a1a720"]]),J={name:"NavSidebar",components:{Link:w},props:{showOffcanvas:{type:Boolean,default:!1},navItems:{type:Array,default:()=>[]}},emits:["close-offcanvas"],data(){return{collapsed:!1,openSubmenus:[]}},computed:{menuItems(){return this.navItems.length>0?this.navItems:this.defaultNavItems},defaultNavItems(){return[{name:"Dashboard",routeName:"home",icon:"bi bi-speedometer2"},{name:"New Input",routeName:"baseline-new",icon:"bi bi-plus-square"},{name:"Saved Data",routeName:"baseline-saved-data",icon:"bi bi-floppy"}]},currentUrl(){var n;return((n=this.$page)==null?void 0:n.url)||"/"}},watch:{showOffcanvas(n){n?document.body.style.overflow="hidden":document.body.style.overflow=""},collapsed(n){n&&(this.openSubmenus=[])}},mounted(){this.menuItems.forEach(n=>{n.submenu&&n.submenu.some(u=>this.isActive(u.routeName))&&this.openSubmenus.push(n.name)})},methods:{isActive(n){return n?this.$page.props.routeName===n:!1},isActiveParent(n){return n.submenu?n.submenu.some(s=>this.isActive(s.routeName)):!1},isSubmenuOpen(n){return this.openSubmenus.includes(n)},toggleSubmenu(n){if(this.collapsed&&window.innerWidth>=992)return;const s=this.openSubmenus.indexOf(n);s>-1?this.openSubmenus.splice(s,1):this.openSubmenus.push(n)},toggleCollapse(){this.collapsed=!this.collapsed},closeOffcanvas(){this.$emit("close-offcanvas")},onNavClick(){window.innerWidth<992&&this.closeOffcanvas()}},beforeUnmount(){document.body.style.overflow=""}},K={class:"sidebar-sticky"},Q={class:"sidebar-header p-3 border-bottom"},R={class:"d-flex gap-2"},X={class:"sidebar-nav"},Y={class:"nav flex-column"},Z={key:0,class:"nav-item"},ee=["onClick"],se={class:"nav-text"},ne={class:"submenu nav flex-column"},ae={class:"nav-text"},te={key:1,class:"nav-item"},oe={class:"nav-text"};function le(n,s,u,b,f,a){const m=k("Link");return i(),l("div",null,[e("div",{class:o(["offcanvas-overlay",{show:u.showOffcanvas}]),onClick:s[0]||(s[0]=(...t)=>a.closeOffcanvas&&a.closeOffcanvas(...t))},null,2),e("div",{class:o(["sidebar",{"sidebar-collapsed":f.collapsed},{"offcanvas-show":u.showOffcanvas}])},[e("div",K,[e("div",Q,[s[4]||(s[4]=e("h6",{class:"mb-0"},"Navigation",-1)),e("div",R,[e("button",{class:"btn btn-sm btn-outline-secondary tog-btn d-none d-lg-block",onClick:s[1]||(s[1]=(...t)=>a.toggleCollapse&&a.toggleCollapse(...t))},[e("i",{class:o(f.collapsed?"bi bi-chevron-right":"bi bi-chevron-left")},null,2)]),e("button",{class:"btn btn-sm btn-outline-secondary tog-btn d-lg-none",onClick:s[2]||(s[2]=(...t)=>a.closeOffcanvas&&a.closeOffcanvas(...t))},[...s[3]||(s[3]=[e("i",{class:"bi bi-x-lg"},null,-1)])])])]),e("nav",X,[e("ul",Y,[(i(!0),l(h,null,_(a.menuItems,t=>(i(),l(h,{key:t.name},[t.submenu&&t.submenu.length>0?(i(),l("li",Z,[e("a",{href:"#",class:o(["nav-link",{active:a.isActiveParent(t),"has-submenu":!0}]),onClick:y(d=>a.toggleSubmenu(t.name),["prevent"])},[e("i",{class:o(t.icon)},null,2),e("span",se,c(t.name),1),e("i",{class:o(["bi submenu-arrow",a.isSubmenuOpen(t.name)?"bi-chevron-down":"bi-chevron-right"])},null,2)],10,ee),r(x,{name:"submenu"},{default:v(()=>[N(e("ul",ne,[(i(!0),l(h,null,_(t.submenu,d=>(i(),l("li",{class:"nav-item",key:d.name},[r(m,{href:d.url||n.route(d.routeName),class:o(["nav-link submenu-link",{active:a.isActive(d.routeName)}]),onClick:a.onNavClick},{default:v(()=>[e("i",{class:o(d.icon)},null,2),e("span",ae,c(d.name),1)]),_:2},1032,["href","class","onClick"])]))),128))],512),[[S,a.isSubmenuOpen(t.name)]])]),_:2},1024)])):(i(),l("li",te,[r(m,{href:t.url||n.route(t.routeName),class:o(["nav-link",{active:a.isActive(t.routeName)}]),onClick:a.onNavClick},{default:v(()=>[e("i",{class:o(t.icon)},null,2),e("span",oe,c(t.name),1)]),_:2},1032,["href","class","onClick"])]))],64))),128))])])])],2)])}const ie=p(J,[["render",le],["__scopeId","data-v-a0753255"]]),re={class:"main-content"},ue={__name:"BeLayout",setup(n){const s=O(!1),u=()=>{s.value=!s.value},b=()=>{s.value=!1};return(f,a)=>(i(),l("div",null,[r($),r(L(A),{title:"Baseline"}),r(H,{onToggleSidebar:u}),r(ie,{"nav-items":f.$page.props.navigation,showOffcanvas:s.value,onCloseOffcanvas:b},null,8,["nav-items","showOffcanvas"]),e("main",re,[B(f.$slots,"default",{},void 0)])]))}},fe=p(ue,[["__scopeId","data-v-358dd622"]]);export{fe as B};
