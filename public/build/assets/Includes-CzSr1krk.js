import{r as k,c as _,g as d,b as x,e as y,F as C,f as I,u as g,a as u,n as f,t as w,B as L,C as N,w as v,o as E,D as T,h as B}from"./app-CNGFP3U7.js";const z=(r,i)=>{const o=r.__vccOpts||r;for(const[s,c]of i)o[s]=c;return o},l=k([]);let O=0;function m(){const r=(t,n="info",a=5e3)=>{const p=O++,b={id:p,message:t,type:n,duration:a,visible:!0};return l.value.push(b),a>0&&setTimeout(()=>i(p),a),p},i=t=>{const n=l.value.findIndex(a=>a.id===t);n>-1&&l.value.splice(n,1)};return{toasts:l,show:r,remove:i,success:(t,n)=>r(t,"success",n),error:(t,n)=>r(t,"error",n),warning:(t,n)=>r(t,"warning",n),info:(t,n)=>r(t,"info",n)}}const P={class:"toast-container position-fixed top-0 end-0 p-3",style:{"z-index":"9999"}},j={class:"me-auto text-white text-capitalize"},A=["onClick"],D={class:"toast-body"},F={__name:"ToastNotification",setup(r){const{toasts:i,remove:o}=m(),s=e=>{const t={success:"bi-check-circle-fill",error:"bi-x-circle-fill",warning:"bi-exclamation-triangle-fill",info:"bi-info-circle-fill"};return t[e]||t.info},c=e=>{const t={success:"bg-success",error:"bg-danger",warning:"bg-warning",info:"bg-info"};return t[e]||t.info};return(e,t)=>(d(),_("div",P,[x(L,{name:"toast"},{default:y(()=>[(d(!0),_(C,null,I(g(i),n=>(d(),_("div",{key:n.id,class:"toast show mb-2",role:"alert","aria-live":"assertive","aria-atomic":"true"},[u("div",{class:f(["toast-header",c(n.type)])},[u("i",{class:f(["bi",s(n.type),"me-2","text-white"])},null,2),u("strong",j,w(n.type),1),u("button",{type:"button",class:"btn-close btn-close-white",onClick:a=>g(o)(n.id),"aria-label":"Close"},null,8,A)],2),u("div",D,w(n.message),1)]))),128))]),_:1})]))}},M=z(F,[["__scopeId","data-v-779e3667"]]),V={__name:"Includes",setup(r){const i=N(),o=m();v(()=>i.props.flash,e=>{e!=null&&e.success&&o.success(e.success),e!=null&&e.error&&o.error(e.error),e!=null&&e.warning&&o.warning(e.warning),e!=null&&e.info&&o.info(e.info)},{deep:!0,immediate:!0}),v(()=>i.props.errors,e=>{if(e&&Object.keys(e).length>0){const t=Object.values(e)[0],n=Array.isArray(t)?t[0]:t;o.error(n)}},{deep:!0});let s=null;const c=()=>{navigator.onLine?s&&(o.remove(s),s=null,o.success("Internet connection restored")):s||(s=o.error("No internet connection. Please check your network.",0))};return E(()=>{window.addEventListener("online",c),window.addEventListener("offline",c),navigator.onLine||(s=o.error("No internet connection. Please check your network.",0))}),T(()=>{window.removeEventListener("online",c),window.removeEventListener("offline",c),s&&o.remove(s)}),(e,t)=>(d(),B(M))}};export{z as _,V as a};
