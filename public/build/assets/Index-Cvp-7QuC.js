import{r as u,w as G,A as B,g as L,h as _,i as w,b as t,u as g,j as $,d as c,t as a,q as V,v as j,y as H,l as x,c as r,s as A,n as p,f as o,F as k,e as C}from"./app-uPr9ithl.js";import{B as I}from"./BeLayout-D1CglItS.js";import{_ as O}from"./Includes-BtRLMiHA.js";const F={class:"row mb-2"},U={class:"col-lg-12"},q={class:"text-muted"},z={class:"row card mb-2"},E={class:"col-sm-12 col-md-12 col-lg-12"},P={class:"card-body"},J={class:"row"},K={class:"col-md-4"},Q={class:"card text-bg-success mb-3"},R={class:"card-body"},W={class:"card-title text-white"},X={class:"row mb-3"},Y={class:"col-md-8 mb-2"},Z={class:"input-group"},tt={class:"col-md-2 mb-2"},st={class:"col-md-2 mb-2"},et={class:"row"},lt={class:"col-lg-12"},ot={class:"card"},at={class:"card-body"},rt={class:"table-responsive"},nt={class:"table table-hover align-middle"},it={key:0},dt={class:"badge bg-success"},ut={key:1,class:"text-muted"},ct={class:"btn-group",role:"group"},vt=["onClick"],bt={key:0,class:"d-flex justify-content-between align-items-center mt-3"},mt={class:"text-muted small"},gt={class:"pagination mb-0"},pt=["innerHTML"],ft={__name:"Index",props:{goals:Object,filters:Object,totalCount:Number},setup(l){const v=l,b=u(v.filters.search||""),m=u(v.filters.per_page||10),d=u(v.filters.sort_by||"created_at"),i=u(v.filters.sort_order||"desc"),S=u(null);G([b,m,d,i],()=>{clearTimeout(S.value),S.value=setTimeout(()=>{B.get("/programs/sectoral-goals",{search:b.value,per_page:m.value,sort_by:d.value,sort_order:i.value},{preserveState:!0,preserveScroll:!0})},300)});const D=n=>{confirm("Are you sure you want to delete this sectoral goal?")&&B.delete(`/programs/sectoral-goals/${n}`,{preserveScroll:!0})},f=n=>{d.value===n?i.value=i.value==="asc"?"desc":"asc":(d.value=n,i.value="asc")},h=n=>d.value!==n?"bi bi-arrow-down-up":i.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(n,s)=>(o(),L(I,null,{default:_(()=>{var T,M,N;return[w(g($),{title:"Sectoral Goals"}),s[19]||(s[19]=t("div",{class:"row"},[t("div",{class:"col-lg-12"},[t("h5",{class:"mt-4 fw-400"},"Sectoral Goals Management"),t("hr")])],-1)),t("div",F,[t("div",U,[t("p",q,[s[5]||(s[5]=c(" Manage all sectoral goals. Total: ",-1)),t("strong",null,a(l.totalCount),1)])])]),t("div",z,[t("div",E,[t("div",P,[t("div",J,[t("div",K,[t("div",Q,[s[6]||(s[6]=t("div",{class:"card-header"},"Total Sectoral Goals",-1)),t("div",R,[t("h3",W,a(l.totalCount),1)])])])])])]),t("div",X,[t("div",Y,[t("div",Z,[s[7]||(s[7]=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-search"})],-1)),V(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>b.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[j,b.value]])])]),t("div",tt,[V(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e),class:"form-select"},[...s[8]||(s[8]=[t("option",{value:10},"10 per page",-1),t("option",{value:25},"25 per page",-1),t("option",{value:50},"50 per page",-1),t("option",{value:100},"100 per page",-1)])],512),[[H,m.value]])]),t("div",st,[w(g(x),{href:n.route("programs.sectoral-goals.create"),class:"btn btn-success w-100"},{default:_(()=>[...s[9]||(s[9]=[t("i",{class:"bi bi-plus-circle"},null,-1),c(" Add Goal ",-1)])]),_:1},8,["href"])])])]),t("div",et,[t("div",lt,[t("div",ot,[t("div",at,[t("div",rt,[t("table",nt,[t("thead",null,[t("tr",null,[t("th",{onClick:s[2]||(s[2]=e=>f("code")),class:"sortable"},[s[10]||(s[10]=c(" Code ",-1)),t("i",{class:p(h("code"))},null,2)]),t("th",{onClick:s[3]||(s[3]=e=>f("title")),class:"sortable"},[s[11]||(s[11]=c(" Title ",-1)),t("i",{class:p(h("title"))},null,2)]),s[13]||(s[13]=t("th",null,"Description",-1)),s[14]||(s[14]=t("th",null,"Tiers",-1)),t("th",{onClick:s[4]||(s[4]=e=>f("created_at")),class:"sortable"},[s[12]||(s[12]=c(" Created ",-1)),t("i",{class:p(h("created_at"))},null,2)]),s[15]||(s[15]=t("th",null,"Actions",-1))])]),t("tbody",null,[(T=l.goals)!=null&&T.data&&l.goals.data.length===0?(o(),r("tr",it,[...s[16]||(s[16]=[t("td",{colspan:"6",class:"text-center text-muted"},"No goals found",-1)])])):A("",!0),(o(!0),r(k,null,C((M=l.goals)==null?void 0:M.data,e=>(o(),r("tr",{key:e.id},[t("td",null,[t("span",dt,a(e.code),1)]),t("td",null,[t("strong",null,a(e.title),1)]),t("td",null,[t("small",null,a(e.description?e.description.substring(0,80)+"...":"N/A"),1)]),t("td",null,[t("small",null,[e.tiers&&e.tiers.length>0?(o(!0),r(k,{key:0},C(e.tiers,y=>(o(),r("span",{key:y.id,class:"badge bg-info me-1"},a(y.tier),1))),128)):(o(),r("span",ut,"No tiers"))])]),t("td",null,[t("small",null,a(new Date(e.created_at).toLocaleDateString()),1)]),t("td",null,[t("div",ct,[w(g(x),{href:n.route("programs.sectoral-goals.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:_(()=>[...s[17]||(s[17]=[t("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:y=>D(e.id),class:"btn btn-sm btn-outline-danger"},[...s[18]||(s[18]=[t("i",{class:"bi bi-trash"},null,-1)])],8,vt)])])]))),128))])])]),(N=l.goals)!=null&&N.data&&l.goals.data.length>0?(o(),r("div",bt,[t("div",mt," Showing "+a(l.goals.from)+" to "+a(l.goals.to)+" of "+a(l.goals.total)+" entries ",1),t("nav",null,[t("ul",gt,[(o(!0),r(k,null,C(l.goals.links,e=>(o(),r("li",{key:e.label,class:p(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(o(),L(g(x),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(o(),r("span",{key:1,class:"page-link",innerHTML:e.label},null,8,pt))],2))),128))])])])):A("",!0)])])])])]}),_:1}))}},wt=O(ft,[["__scopeId","data-v-8e939429"]]);export{wt as default};
