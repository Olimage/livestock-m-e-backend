import{r as u,w as I,y as N,d as O,g as p,j as f,b as t,u as v,k as $,f as g,t as o,s as L,v as D,x as P,l as h,c as i,e as V,n as _,i as n,F as A,h as j}from"./app-CRduYzfZ.js";import{B as E}from"./BeLayout-CF6fqCw2.js";import{_ as F}from"./Includes-C6kNh0Lp.js";const R={class:"row mb-2"},U={class:"col-lg-12"},z={class:"text-muted"},G={class:"row card mb-2"},q={class:"col-sm-12 col-md-12 col-lg-12"},J={class:"card-body"},K={class:"row"},Q={class:"col-md-4"},W={class:"card text-bg-warning mb-3"},X={class:"card-body"},Y={class:"card-title text-white"},Z={class:"row mb-3"},tt={class:"col-md-8 mb-2"},st={class:"input-group"},et={class:"col-md-2 mb-2"},lt={class:"col-md-2 mb-2"},ot={class:"row"},at={class:"col-lg-12"},nt={class:"card"},it={class:"card-body"},rt={class:"table-responsive"},dt={class:"table table-hover align-middle"},ut={key:0},ct={class:"badge bg-warning"},bt={class:"badge bg-primary me-1"},mt={class:"badge bg-info me-1"},vt={class:"badge bg-secondary"},gt={class:"btn-group",role:"group"},pt=["onClick"],ft={key:0,class:"d-flex justify-content-between align-items-center mt-3"},ht={class:"text-muted small"},_t={class:"pagination mb-0"},yt=["innerHTML"],wt={__name:"Index",props:{outcomes:Object,filters:Object,totalCount:Number},setup(l){const c=l,b=u(c.filters.search||""),m=u(c.filters.per_page||10),d=u(c.filters.sort_by||"created_at"),r=u(c.filters.sort_order||"desc"),y=u(null);I([b,m,d,r],()=>{clearTimeout(y.value),y.value=setTimeout(()=>{N.get("/programs/bond-outcomes",{search:b.value,per_page:m.value,sort_by:d.value,sort_order:r.value},{preserveState:!0,preserveScroll:!0})},300)});const H=a=>{confirm("Are you sure you want to delete this bond outcome?")&&N.delete(`/programs/bond-outcomes/${a}`,{preserveScroll:!0})},w=a=>{d.value===a?r.value=r.value==="asc"?"desc":"asc":(d.value=a,r.value="asc")},x=a=>d.value!==a?"bi bi-arrow-down-up":r.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(a,s)=>(n(),O(E,null,{default:p(()=>{var k,T,C;return[f(v($),{title:"Bond Outcomes"}),s[18]||(s[18]=t("div",{class:"row"},[t("div",{class:"col-lg-12"},[t("h5",{class:"mt-4 fw-400"},"Bond Outcomes Management"),t("hr")])],-1)),t("div",R,[t("div",U,[t("p",z,[s[4]||(s[4]=g(" Manage all bond outcomes. Total: ",-1)),t("strong",null,o(l.totalCount),1)])])]),t("div",G,[t("div",q,[t("div",J,[t("div",K,[t("div",Q,[t("div",W,[s[5]||(s[5]=t("div",{class:"card-header"},"Total Bond Outcomes",-1)),t("div",X,[t("h3",Y,o(l.totalCount),1)])])])])])]),t("div",Z,[t("div",tt,[t("div",st,[s[6]||(s[6]=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-search"})],-1)),L(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>b.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[D,b.value]])])]),t("div",et,[L(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e),class:"form-select"},[...s[7]||(s[7]=[t("option",{value:10},"10 per page",-1),t("option",{value:25},"25 per page",-1),t("option",{value:50},"50 per page",-1),t("option",{value:100},"100 per page",-1)])],512),[[P,m.value]])]),t("div",lt,[f(v(h),{href:a.route("programs.bond-outcomes.create"),class:"btn btn-success w-100"},{default:p(()=>[...s[8]||(s[8]=[t("i",{class:"bi bi-plus-circle"},null,-1),g(" Add Outcome ",-1)])]),_:1},8,["href"])])])]),t("div",ot,[t("div",at,[t("div",nt,[t("div",it,[t("div",rt,[t("table",dt,[t("thead",null,[t("tr",null,[t("th",{onClick:s[2]||(s[2]=e=>w("code")),class:"sortable"},[s[9]||(s[9]=g(" Code ",-1)),t("i",{class:_(x("code"))},null,2)]),t("th",{onClick:s[3]||(s[3]=e=>w("title")),class:"sortable"},[s[10]||(s[10]=g(" Title ",-1)),t("i",{class:_(x("title"))},null,2)]),s[11]||(s[11]=t("th",null,"Description",-1)),s[12]||(s[12]=t("th",null,"Responsible Entity",-1)),s[13]||(s[13]=t("th",null,"Relationships",-1)),s[14]||(s[14]=t("th",null,"Actions",-1))])]),t("tbody",null,[(k=l.outcomes)!=null&&k.data&&l.outcomes.data.length===0?(n(),i("tr",ut,[...s[15]||(s[15]=[t("td",{colspan:"6",class:"text-center text-muted"},"No outcomes found",-1)])])):V("",!0),(n(!0),i(A,null,j((T=l.outcomes)==null?void 0:T.data,e=>{var B,S,M;return n(),i("tr",{key:e.id},[t("td",null,[t("span",ct,o(e.code),1)]),t("td",null,[t("strong",null,o(e.title),1)]),t("td",null,[t("small",null,o(e.description?e.description.substring(0,60)+"...":"N/A"),1)]),t("td",null,[t("small",null,o(e.responsible_entity||"N/A"),1)]),t("td",null,[t("small",null,[t("span",bt,o(((B=e.presidential_priorities)==null?void 0:B.length)||0)+" Priorities",1),t("span",mt,o(((S=e.sectoral_goals)==null?void 0:S.length)||0)+" Goals",1),t("span",vt,o(((M=e.nlgas_pillars)==null?void 0:M.length)||0)+" Pillars",1)])]),t("td",null,[t("div",gt,[f(v(h),{href:a.route("programs.bond-outcomes.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:p(()=>[...s[16]||(s[16]=[t("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:xt=>H(e.id),class:"btn btn-sm btn-outline-danger"},[...s[17]||(s[17]=[t("i",{class:"bi bi-trash"},null,-1)])],8,pt)])])])}),128))])])]),(C=l.outcomes)!=null&&C.data&&l.outcomes.data.length>0?(n(),i("div",ft,[t("div",ht," Showing "+o(l.outcomes.from)+" to "+o(l.outcomes.to)+" of "+o(l.outcomes.total)+" entries ",1),t("nav",null,[t("ul",_t,[(n(!0),i(A,null,j(l.outcomes.links,e=>(n(),i("li",{key:e.label,class:_(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(n(),O(v(h),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(n(),i("span",{key:1,class:"page-link",innerHTML:e.label},null,8,yt))],2))),128))])])])):V("",!0)])])])])]}),_:1}))}},Bt=F(wt,[["__scopeId","data-v-07dc6ee8"]]);export{Bt as default};
