import{l as w,B as k,c as i,f as r,b as e,i as d,h as v,d as p,s as N,t as u,n as c,F as h,e as g,p as S,q as x,C as O,T as $,r as y,o as L,D as B,E as T,u as A,j as I,G as E}from"./app-56Xu7eoK.js";import{_,a as D}from"./Includes-DZVdXlUc.js";const P={name:"TopBar",components:{Link:w},emits:["toggle-sidebar"],computed:{user(){var a;return((a=this.$page.props.auth)==null?void 0:a.user)||this.$page.props.user||{}},userName(){return this.user.name||"Guest"},userEmail(){return this.user.email||""},notificationCount(){return this.$page.props.notificationCount||0}},methods:{toggleSidebar(){this.$emit("toggle-sidebar")}}},M={class:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},V={class:"container-fluid"},F={class:"d-flex align-items-center"},U={class:"dropdown"},q={class:"btn btn-link text-white dropdown-toggle d-flex align-items-center gap-2",type:"button","data-bs-toggle":"dropdown"},z={class:"user-name d-none d-md-inline"},G={key:0,class:"badge bg-danger"},W={class:"dropdown-menu dropdown-menu-end"},j={class:"dropdown-header"},J={class:"d-flex align-items-center"},H={class:"fw-bold"},K={class:"text-muted"};function Q(a,s,f,b,m,t){const l=k("Link");return r(),i("nav",M,[e("div",V,[e("button",{class:"btn btn-link text-white d-lg-none me-2",type:"button",onClick:s[0]||(s[0]=(...n)=>t.toggleSidebar&&t.toggleSidebar(...n))},[...s[1]||(s[1]=[e("i",{class:"bi bi-list fs-4"},null,-1)])]),d(l,{class:"navbar-brand",href:"/baseline/"},{default:v(()=>[...s[2]||(s[2]=[p(" FMLD ",-1)])]),_:1}),e("div",F,[e("div",U,[e("button",q,[s[3]||(s[3]=e("i",{class:"bi bi-person-circle fs-4"},null,-1)),e("span",z,u(t.userName),1),t.notificationCount>0?(r(),i("span",G,u(t.notificationCount),1)):N("",!0)]),e("ul",W,[e("li",j,[e("div",J,[s[4]||(s[4]=e("i",{class:"bi bi-person-circle fs-3 me-2"},null,-1)),e("div",null,[e("div",H,u(t.userName),1),e("small",K,u(t.userEmail),1)])])]),s[8]||(s[8]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[d(l,{href:a.route("profile.show"),class:"dropdown-item"},{default:v(()=>[...s[5]||(s[5]=[e("i",{class:"bi bi-person me-2"},null,-1),p("My Profile",-1)])]),_:1},8,["href"])]),e("li",null,[d(l,{href:a.route("profile.password.edit"),class:"dropdown-item"},{default:v(()=>[...s[6]||(s[6]=[e("i",{class:"bi bi-key me-2"},null,-1),p("Change Password",-1)])]),_:1},8,["href"])]),s[9]||(s[9]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[d(l,{href:a.route("app.logout"),class:"dropdown-item"},{default:v(()=>[...s[7]||(s[7]=[e("i",{class:"bi bi-box-arrow-right me-2"},null,-1),p("Logout ",-1)])]),_:1},8,["href"])])])])])])])}const R=_(P,[["render",Q],["__scopeId","data-v-9851d741"]]),X={name:"NavSidebar",components:{Link:w},props:{showOffcanvas:{type:Boolean,default:!1},navItems:{type:Array,default:()=>[]}},emits:["close-offcanvas"],data(){return{collapsed:!1,openSubmenus:[]}},computed:{menuItems(){return this.navItems.length>0?this.navItems:this.defaultNavItems},defaultNavItems(){return[{name:"Dashboard",routeName:"home",icon:"bi bi-speedometer2"},{name:"New Input",routeName:"baseline-new",icon:"bi bi-plus-square"},{name:"Saved Data",routeName:"baseline-saved-data",icon:"bi bi-floppy"}]},currentUrl(){var a;return((a=this.$page)==null?void 0:a.url)||"/"}},watch:{showOffcanvas(a){a?document.body.style.overflow="hidden":document.body.style.overflow=""},collapsed(a){a&&(this.openSubmenus=[])}},mounted(){this.menuItems.forEach(a=>{a.submenu&&a.submenu.some(f=>this.isActive(f.routeName))&&this.openSubmenus.push(a.name)})},methods:{isActive(a){return a?this.$page.props.routeName===a:!1},isActiveParent(a){return a.submenu?a.submenu.some(s=>this.isActive(s.routeName)):!1},isSubmenuOpen(a){return this.openSubmenus.includes(a)},toggleSubmenu(a){if(this.collapsed&&window.innerWidth>=992)return;const s=this.openSubmenus.indexOf(a);s>-1?this.openSubmenus.splice(s,1):this.openSubmenus.push(a)},toggleCollapse(){this.collapsed=!this.collapsed},closeOffcanvas(){this.$emit("close-offcanvas")},onNavClick(){window.innerWidth<992&&this.closeOffcanvas()}},beforeUnmount(){document.body.style.overflow=""}},Y={class:"sidebar-sticky"},Z={class:"sidebar-header p-3 border-bottom"},ee={class:"d-flex gap-2"},se={class:"sidebar-nav"},ne={class:"nav flex-column"},ae={key:0,class:"nav-item"},te=["onClick"],oe={class:"nav-text"},le={class:"submenu nav flex-column"},ie={class:"nav-text"},re={key:1,class:"nav-item"},de={class:"nav-text"};function ue(a,s,f,b,m,t){const l=k("Link");return r(),i("div",null,[e("div",{class:c(["offcanvas-overlay",{show:f.showOffcanvas}]),onClick:s[0]||(s[0]=(...n)=>t.closeOffcanvas&&t.closeOffcanvas(...n))},null,2),e("div",{class:c(["sidebar",{"sidebar-collapsed":m.collapsed},{"offcanvas-show":f.showOffcanvas}])},[e("div",Y,[e("div",Z,[s[4]||(s[4]=e("h6",{class:"mb-0"},"Navigation",-1)),e("div",ee,[e("button",{class:"btn btn-sm btn-outline-secondary tog-btn d-none d-lg-block",onClick:s[1]||(s[1]=(...n)=>t.toggleCollapse&&t.toggleCollapse(...n))},[e("i",{class:c(m.collapsed?"bi bi-chevron-right":"bi bi-chevron-left")},null,2)]),e("button",{class:"btn btn-sm btn-outline-secondary tog-btn d-lg-none",onClick:s[2]||(s[2]=(...n)=>t.closeOffcanvas&&t.closeOffcanvas(...n))},[...s[3]||(s[3]=[e("i",{class:"bi bi-x-lg"},null,-1)])])])]),e("nav",se,[e("ul",ne,[(r(!0),i(h,null,g(t.menuItems,n=>(r(),i(h,{key:n.name},[n.submenu&&n.submenu.length>0?(r(),i("li",ae,[e("a",{href:"#",class:c(["nav-link",{active:t.isActiveParent(n),"has-submenu":!0}]),onClick:S(o=>t.toggleSubmenu(n.name),["prevent"])},[e("i",{class:c(n.icon)},null,2),e("span",oe,u(n.name),1),e("i",{class:c(["bi submenu-arrow",t.isSubmenuOpen(n.name)?"bi-chevron-down":"bi-chevron-right"])},null,2)],10,te),d($,{name:"submenu"},{default:v(()=>[x(e("ul",le,[(r(!0),i(h,null,g(n.submenu,o=>(r(),i("li",{class:"nav-item",key:o.name},[d(l,{href:o.url||a.route(o.routeName),class:c(["nav-link submenu-link",{active:t.isActive(o.routeName)}]),onClick:t.onNavClick},{default:v(()=>[e("i",{class:c(o.icon)},null,2),e("span",ie,u(o.name),1)]),_:2},1032,["href","class","onClick"])]))),128))],512),[[O,t.isSubmenuOpen(n.name)]])]),_:2},1024)])):(r(),i("li",re,[d(l,{href:n.url||a.route(n.routeName),class:c(["nav-link",{active:t.isActive(n.routeName)}]),onClick:t.onNavClick},{default:v(()=>[e("i",{class:c(n.icon)},null,2),e("span",de,u(n.name),1)]),_:2},1032,["href","class","onClick"])]))],64))),128))])])])],2)])}const ce=_(X,[["render",ue],["__scopeId","data-v-a0753255"]]),fe={"aria-live":"polite","aria-atomic":"true",class:"position-fixed top-0 end-0 p-3",style:{"z-index":"1080"}},me={class:"toast-header"},ve={class:"me-auto"},be=["onClick"],pe={class:"toast-body"},he={key:0},_e={key:1},ge={__name:"Toaster",setup(a){const s=y([]);let f=0;const b=l=>{const n=++f,o={id:n,message:l.message||"",payload:l.payload||null,variant:l.variant||"info",timeout:l.timeout??5e3};s.value.push(o),setTimeout(()=>m(n),o.timeout)},m=l=>{const n=s.value.findIndex(o=>o.id===l);n!==-1&&s.value.splice(n,1)},t=l=>{b(l.detail||{})};return L(()=>{window.addEventListener("app:notify",t)}),B(()=>{window.removeEventListener("app:notify",t)}),(l,n)=>(r(),i("div",fe,[(r(!0),i(h,null,g(s.value,o=>(r(),i("div",{key:o.id,class:"toast show mb-2 shadow-lg",role:"alert","aria-live":"assertive","aria-atomic":"true"},[e("div",me,[e("strong",ve,u(o.variant==="success"?"Success":o.variant==="danger"?"Error":"Notice"),1),n[0]||(n[0]=e("small",{class:"text-muted"},"now",-1)),e("button",{type:"button",class:"btn-close ms-2 mb-1",onClick:C=>m(o.id)},null,8,be)]),e("div",pe,[o.payload?(r(),i("div",he,[p(u(o.message)+" â€” ",1),e("small",null,u(JSON.stringify(o.payload)),1)])):(r(),i("div",_e,u(o.message),1))])]))),128))]))}},we=_(ge,[["__scopeId","data-v-2b43ee6d"]]),ke={class:"main-content"},ye={__name:"BeLayout",setup(a){var t,l,n;const s=y(!1),f=()=>{s.value=!s.value},b=()=>{s.value=!1},m=T();return(l=(t=m.props.auth)==null?void 0:t.user)!=null&&l.id||(n=m.props.user)!=null&&n.id,(o,C)=>(r(),i("div",null,[d(D),d(A(I),{title:"Baseline"}),d(R,{onToggleSidebar:f}),d(ce,{"nav-items":o.$page.props.navigation,showOffcanvas:s.value,onCloseOffcanvas:b},null,8,["nav-items","showOffcanvas"]),e("main",ke,[E(o.$slots,"default",{},void 0),d(we)])]))}},Se=_(ye,[["__scopeId","data-v-b37c5fd0"]]);export{Se as B};
