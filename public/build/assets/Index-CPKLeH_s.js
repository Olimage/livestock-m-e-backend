import{r as u,w as G,A as M,g as P,h as _,i as w,b as s,u as g,j as $,d as c,t as o,q as B,v as j,y as H,l as x,c as r,s as V,n as p,f as a,F as k,e as S}from"./app-56Xu7eoK.js";import{B as I}from"./BeLayout-DLUsJ5q0.js";import{_ as O}from"./Includes-DZVdXlUc.js";const F={class:"row mb-2"},U={class:"col-lg-12"},q={class:"text-muted"},z={class:"row card mb-2"},E={class:"col-sm-12 col-md-12 col-lg-12"},J={class:"card-body"},K={class:"row"},Q={class:"col-md-4"},R={class:"card text-bg-success mb-3"},W={class:"card-body"},X={class:"card-title text-white"},Y={class:"row mb-3"},Z={class:"col-md-8 mb-2"},ss={class:"input-group"},ts={class:"col-md-2 mb-2"},es={class:"col-md-2 mb-2"},ls={class:"row"},as={class:"col-lg-12"},os={class:"card"},rs={class:"card-body"},ns={class:"table-responsive"},is={class:"table table-hover align-middle"},ds={key:0},us={class:"badge bg-success"},cs={class:"badge bg-primary"},bs={key:1,class:"text-muted"},vs={class:"btn-group",role:"group"},ms=["onClick"],gs={key:0,class:"d-flex justify-content-between align-items-center mt-3"},ps={class:"text-muted small"},fs={class:"pagination mb-0"},hs=["innerHTML"],ys={__name:"Index",props:{pillars:Object,filters:Object,totalCount:Number},setup(l){const b=l,v=u(b.filters.search||""),m=u(b.filters.per_page||10),d=u(b.filters.sort_by||"created_at"),i=u(b.filters.sort_order||"desc"),C=u(null);G([v,m,d,i],()=>{clearTimeout(C.value),C.value=setTimeout(()=>{M.get("/programs/nlgas-pillars",{search:v.value,per_page:m.value,sort_by:d.value,sort_order:i.value},{preserveState:!0,preserveScroll:!0})},300)});const D=n=>{confirm("Are you sure you want to delete this NLGAS pillar?")&&M.delete(`/programs/nlgas-pillars/${n}`,{preserveScroll:!0})},f=n=>{d.value===n?i.value=i.value==="asc"?"desc":"asc":(d.value=n,i.value="asc")},h=n=>d.value!==n?"bi bi-arrow-down-up":i.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(n,t)=>(a(),P(I,null,{default:_(()=>{var N,T,L;return[w(g($),{title:"NLGAS Pillars"}),t[20]||(t[20]=s("div",{class:"row"},[s("div",{class:"col-lg-12"},[s("h5",{class:"mt-4 fw-400"},"NLGAS Pillars Management"),s("hr")])],-1)),s("div",F,[s("div",U,[s("p",q,[t[5]||(t[5]=c(" Manage all NLGAS pillars. Total: ",-1)),s("strong",null,o(l.totalCount),1)])])]),s("div",z,[s("div",E,[s("div",J,[s("div",K,[s("div",Q,[s("div",R,[t[6]||(t[6]=s("div",{class:"card-header"},"Total NLGAS Pillars",-1)),s("div",W,[s("h3",X,o(l.totalCount),1)])])])])])]),s("div",Y,[s("div",Z,[s("div",ss,[t[7]||(t[7]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-search"})],-1)),B(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[j,v.value]])])]),s("div",ts,[B(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:"form-select"},[...t[8]||(t[8]=[s("option",{value:10},"10 per page",-1),s("option",{value:25},"25 per page",-1),s("option",{value:50},"50 per page",-1),s("option",{value:100},"100 per page",-1)])],512),[[H,m.value]])]),s("div",es,[w(g(x),{href:n.route("programs.nlgas-pillars.create"),class:"btn btn-success w-100"},{default:_(()=>[...t[9]||(t[9]=[s("i",{class:"bi bi-plus-circle"},null,-1),c(" Add Pillar ",-1)])]),_:1},8,["href"])])])]),s("div",ls,[s("div",as,[s("div",os,[s("div",rs,[s("div",ns,[s("table",is,[s("thead",null,[s("tr",null,[s("th",{onClick:t[2]||(t[2]=e=>f("code")),class:"sortable"},[t[10]||(t[10]=c(" Code ",-1)),s("i",{class:p(h("code"))},null,2)]),s("th",{onClick:t[3]||(t[3]=e=>f("title")),class:"sortable"},[t[11]||(t[11]=c(" Title ",-1)),s("i",{class:p(h("title"))},null,2)]),t[13]||(t[13]=s("th",null,"Description",-1)),t[14]||(t[14]=s("th",null,"Programs",-1)),t[15]||(t[15]=s("th",null,"Tiers",-1)),s("th",{onClick:t[4]||(t[4]=e=>f("created_at")),class:"sortable"},[t[12]||(t[12]=c(" Created ",-1)),s("i",{class:p(h("created_at"))},null,2)]),t[16]||(t[16]=s("th",null,"Actions",-1))])]),s("tbody",null,[(N=l.pillars)!=null&&N.data&&l.pillars.data.length===0?(a(),r("tr",ds,[...t[17]||(t[17]=[s("td",{colspan:"7",class:"text-center text-muted"},"No pillars found",-1)])])):V("",!0),(a(!0),r(k,null,S((T=l.pillars)==null?void 0:T.data,e=>{var A;return a(),r("tr",{key:e.id},[s("td",null,[s("span",us,o(e.code),1)]),s("td",null,[s("strong",null,o(e.title),1)]),s("td",null,[s("small",null,o(e.description?e.description.substring(0,80)+"...":"N/A"),1)]),s("td",null,[s("span",cs,o(((A=e.programs)==null?void 0:A.length)||0)+" Programs",1)]),s("td",null,[s("small",null,[e.tiers&&e.tiers.length>0?(a(!0),r(k,{key:0},S(e.tiers,y=>(a(),r("span",{key:y.id,class:"badge bg-info me-1"},o(y.tier),1))),128)):(a(),r("span",bs,"No tiers"))])]),s("td",null,[s("small",null,o(new Date(e.created_at).toLocaleDateString()),1)]),s("td",null,[s("div",vs,[w(g(x),{href:n.route("programs.nlgas-pillars.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:_(()=>[...t[18]||(t[18]=[s("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),s("button",{onClick:y=>D(e.id),class:"btn btn-sm btn-outline-danger"},[...t[19]||(t[19]=[s("i",{class:"bi bi-trash"},null,-1)])],8,ms)])])])}),128))])])]),(L=l.pillars)!=null&&L.data&&l.pillars.data.length>0?(a(),r("div",gs,[s("div",ps," Showing "+o(l.pillars.from)+" to "+o(l.pillars.to)+" of "+o(l.pillars.total)+" entries ",1),s("nav",null,[s("ul",fs,[(a(!0),r(k,null,S(l.pillars.links,e=>(a(),r("li",{key:e.label,class:p(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(a(),P(g(x),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(a(),r("span",{key:1,class:"page-link",innerHTML:e.label},null,8,hs))],2))),128))])])])):V("",!0)])])])])]}),_:1}))}},ks=O(ys,[["__scopeId","data-v-d6c93ea2"]]);export{ks as default};
