import{r as d,w as $,A as M,g as P,h as y,i as w,b as t,u as p,j,d as m,t as a,q as x,v as D,c as r,f as o,F as k,e as C,y as B,l as S,s as V,n as f}from"./app-BiE81L3r.js";import{B as H}from"./BeLayout-c8f4LfUo.js";import{_ as O}from"./Includes-0G2CgwRG.js";const U={class:"row mb-2"},F={class:"col-lg-12"},G={class:"text-muted"},q={class:"row card mb-2"},z={class:"col-sm-12 col-md-12 col-lg-12"},E={class:"card-body"},J={class:"row"},K={class:"col-md-4"},Q={class:"card text-bg-success mb-3"},R={class:"card-body"},W={class:"card-title text-white"},X={class:"row mb-3"},Y={class:"col-md-4 mb-2"},Z={class:"input-group"},tt={class:"col-md-3 mb-2"},st=["value"],et={class:"col-md-2 mb-2"},lt={class:"col-md-3 mb-2"},ot={class:"row"},at={class:"col-lg-12"},rt={class:"card"},nt={class:"card-body"},it={class:"table-responsive"},dt={class:"table table-hover align-middle"},ut={key:0},ct={class:"badge bg-primary"},mt={key:0},vt={key:1,class:"text-muted"},gt={class:"btn-group",role:"group"},bt=["onClick"],pt={key:0,class:"d-flex justify-content-between align-items-center mt-3"},ft={class:"text-muted small"},_t={class:"pagination mb-0"},ht=["innerHTML"],yt={__name:"Index",props:{programs:Object,filters:Object,pillars:Array,totalCount:Number},setup(l){const u=l,v=d(u.filters.search||""),g=d(u.filters.per_page||10),c=d(u.filters.sort_by||"created_at"),i=d(u.filters.sort_order||"desc"),b=d(u.filters.pillar_id||""),T=d(null);$([v,g,c,i,b],()=>{clearTimeout(T.value),T.value=setTimeout(()=>{M.get("/programs/programs",{search:v.value,per_page:g.value,sort_by:c.value,sort_order:i.value,pillar_id:b.value},{preserveState:!0,preserveScroll:!0})},300)});const I=n=>{confirm("Are you sure you want to delete this program?")&&M.delete(`/programs/programs/${n}`,{preserveScroll:!0})},_=n=>{c.value===n?i.value=i.value==="asc"?"desc":"asc":(c.value=n,i.value="asc")},h=n=>c.value!==n?"bi bi-arrow-down-up":i.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(n,s)=>(o(),P(H,null,{default:y(()=>{var A,L,N;return[w(p(j),{title:"Programs"}),s[20]||(s[20]=t("div",{class:"row"},[t("div",{class:"col-lg-12"},[t("h5",{class:"mt-4 fw-400"},"Programs Management"),t("hr")])],-1)),t("div",U,[t("div",F,[t("p",G,[s[6]||(s[6]=m(" Manage all programs under NLGAS pillars. Total: ",-1)),t("strong",null,a(l.totalCount),1)])])]),t("div",q,[t("div",z,[t("div",E,[t("div",J,[t("div",K,[t("div",Q,[s[7]||(s[7]=t("div",{class:"card-header"},"Total Programs",-1)),t("div",R,[t("h3",W,a(l.totalCount),1)])])])])])]),t("div",X,[t("div",Y,[t("div",Z,[s[8]||(s[8]=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-search"})],-1)),x(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),type:"text",class:"form-control",placeholder:"Search by code or title..."},null,512),[[D,v.value]])])]),t("div",tt,[x(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>b.value=e),class:"form-select"},[s[9]||(s[9]=t("option",{value:""},"All Pillars",-1)),(o(!0),r(k,null,C(l.pillars,e=>(o(),r("option",{key:e.id,value:e.id},a(e.code)+" - "+a(e.title),9,st))),128))],512),[[B,b.value]])]),t("div",et,[x(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>g.value=e),class:"form-select"},[...s[10]||(s[10]=[t("option",{value:10},"10 per page",-1),t("option",{value:25},"25 per page",-1),t("option",{value:50},"50 per page",-1),t("option",{value:100},"100 per page",-1)])],512),[[B,g.value]])]),t("div",lt,[w(p(S),{href:n.route("programs.programs.create"),class:"btn btn-success w-100"},{default:y(()=>[...s[11]||(s[11]=[t("i",{class:"bi bi-plus-circle"},null,-1),m(" Add Program ",-1)])]),_:1},8,["href"])])])]),t("div",ot,[t("div",at,[t("div",rt,[t("div",nt,[t("div",it,[t("table",dt,[t("thead",null,[t("tr",null,[t("th",{onClick:s[3]||(s[3]=e=>_("code")),class:"sortable"},[s[12]||(s[12]=m(" Code ",-1)),t("i",{class:f(h("code"))},null,2)]),t("th",{onClick:s[4]||(s[4]=e=>_("title")),class:"sortable"},[s[13]||(s[13]=m(" Title ",-1)),t("i",{class:f(h("title"))},null,2)]),s[15]||(s[15]=t("th",null,"NLGAS Pillar",-1)),t("th",{onClick:s[5]||(s[5]=e=>_("created_at")),class:"sortable"},[s[14]||(s[14]=m(" Created ",-1)),t("i",{class:f(h("created_at"))},null,2)]),s[16]||(s[16]=t("th",null,"Actions",-1))])]),t("tbody",null,[(A=l.programs)!=null&&A.data&&l.programs.data.length===0?(o(),r("tr",ut,[...s[17]||(s[17]=[t("td",{colspan:"5",class:"text-center text-muted"},"No programs found",-1)])])):V("",!0),(o(!0),r(k,null,C((L=l.programs)==null?void 0:L.data,e=>(o(),r("tr",{key:e.id},[t("td",null,[t("span",ct,a(e.code),1)]),t("td",null,[t("strong",null,a(e.title),1)]),t("td",null,[e.nlgas_pillar?(o(),r("small",mt,a(e.nlgas_pillar.code)+" - "+a(e.nlgas_pillar.title),1)):(o(),r("span",vt,"N/A"))]),t("td",null,[t("small",null,a(new Date(e.created_at).toLocaleDateString()),1)]),t("td",null,[t("div",gt,[w(p(S),{href:n.route("programs.programs.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:y(()=>[...s[18]||(s[18]=[t("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:wt=>I(e.id),class:"btn btn-sm btn-outline-danger"},[...s[19]||(s[19]=[t("i",{class:"bi bi-trash"},null,-1)])],8,bt)])])]))),128))])])]),(N=l.programs)!=null&&N.data&&l.programs.data.length>0?(o(),r("div",pt,[t("div",ft," Showing "+a(l.programs.from)+" to "+a(l.programs.to)+" of "+a(l.programs.total)+" entries ",1),t("nav",null,[t("ul",_t,[(o(!0),r(k,null,C(l.programs.links,e=>(o(),r("li",{key:e.label,class:f(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(o(),P(p(S),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(o(),r("span",{key:1,class:"page-link",innerHTML:e.label},null,8,ht))],2))),128))])])])):V("",!0)])])])])]}),_:1}))}},St=O(yt,[["__scopeId","data-v-a79ee3d2"]]);export{St as default};
