import{r as u,w as I,A as N,g as O,h as p,i as f,b as s,u as v,j as $,d as g,t as o,q as A,v as D,y as P,l as h,c as i,s as L,n as _,f as n,F as V,e as j}from"./app-DgP9aeh5.js";import{B as E}from"./BeLayout-CxarqoJO.js";import{_ as F}from"./Includes-2to_EoWf.js";const R={class:"row mb-2"},U={class:"col-lg-12"},q={class:"text-muted"},z={class:"row card mb-2"},G={class:"col-sm-12 col-md-12 col-lg-12"},J={class:"card-body"},K={class:"row"},Q={class:"col-md-4"},W={class:"card text-bg-success mb-3"},X={class:"card-body"},Y={class:"card-title text-white"},Z={class:"row mb-3"},ss={class:"col-md-8 mb-2"},ts={class:"input-group"},es={class:"col-md-2 mb-2"},ls={class:"col-md-2 mb-2"},os={class:"row"},as={class:"col-lg-12"},ns={class:"card"},is={class:"card-body"},rs={class:"table-responsive"},ds={class:"table table-hover align-middle"},us={key:0},cs={class:"badge bg-success"},bs={class:"badge bg-primary me-1"},ms={class:"badge bg-info me-1"},vs={class:"badge bg-secondary"},gs={class:"btn-group",role:"group"},ps=["onClick"],fs={key:0,class:"d-flex justify-content-between align-items-center mt-3"},hs={class:"text-muted small"},_s={class:"pagination mb-0"},ys=["innerHTML"],ws={__name:"Index",props:{outcomes:Object,filters:Object,totalCount:Number},setup(l){const c=l,b=u(c.filters.search||""),m=u(c.filters.per_page||10),d=u(c.filters.sort_by||"created_at"),r=u(c.filters.sort_order||"desc"),y=u(null);I([b,m,d,r],()=>{clearTimeout(y.value),y.value=setTimeout(()=>{N.get("/programs/bond-outcomes",{search:b.value,per_page:m.value,sort_by:d.value,sort_order:r.value},{preserveState:!0,preserveScroll:!0})},300)});const H=a=>{confirm("Are you sure you want to delete this bond outcome?")&&N.delete(`/programs/bond-outcomes/${a}`,{preserveScroll:!0})},w=a=>{d.value===a?r.value=r.value==="asc"?"desc":"asc":(d.value=a,r.value="asc")},x=a=>d.value!==a?"bi bi-arrow-down-up":r.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(a,t)=>(n(),O(E,null,{default:p(()=>{var T,k,C;return[f(v($),{title:"Bond Outcomes"}),t[18]||(t[18]=s("div",{class:"row"},[s("div",{class:"col-lg-12"},[s("h5",{class:"mt-4 fw-400"},"Bond Outcomes Management"),s("hr")])],-1)),s("div",R,[s("div",U,[s("p",q,[t[4]||(t[4]=g(" Manage all bond outcomes. Total: ",-1)),s("strong",null,o(l.totalCount),1)])])]),s("div",z,[s("div",G,[s("div",J,[s("div",K,[s("div",Q,[s("div",W,[t[5]||(t[5]=s("div",{class:"card-header"},"Total Bond Outcomes",-1)),s("div",X,[s("h3",Y,o(l.totalCount),1)])])])])])]),s("div",Z,[s("div",ss,[s("div",ts,[t[6]||(t[6]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-search"})],-1)),A(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[D,b.value]])])]),s("div",es,[A(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:"form-select"},[...t[7]||(t[7]=[s("option",{value:10},"10 per page",-1),s("option",{value:25},"25 per page",-1),s("option",{value:50},"50 per page",-1),s("option",{value:100},"100 per page",-1)])],512),[[P,m.value]])]),s("div",ls,[f(v(h),{href:a.route("programs.bond-outcomes.create"),class:"btn btn-success w-100"},{default:p(()=>[...t[8]||(t[8]=[s("i",{class:"bi bi-plus-circle"},null,-1),g(" Add Outcome ",-1)])]),_:1},8,["href"])])])]),s("div",os,[s("div",as,[s("div",ns,[s("div",is,[s("div",rs,[s("table",ds,[s("thead",null,[s("tr",null,[s("th",{onClick:t[2]||(t[2]=e=>w("code")),class:"sortable"},[t[9]||(t[9]=g(" Code ",-1)),s("i",{class:_(x("code"))},null,2)]),s("th",{onClick:t[3]||(t[3]=e=>w("title")),class:"sortable"},[t[10]||(t[10]=g(" Title ",-1)),s("i",{class:_(x("title"))},null,2)]),t[11]||(t[11]=s("th",null,"Description",-1)),t[12]||(t[12]=s("th",null,"Responsible Entity",-1)),t[13]||(t[13]=s("th",null,"Relationships",-1)),t[14]||(t[14]=s("th",null,"Actions",-1))])]),s("tbody",null,[(T=l.outcomes)!=null&&T.data&&l.outcomes.data.length===0?(n(),i("tr",us,[...t[15]||(t[15]=[s("td",{colspan:"6",class:"text-center text-muted"},"No outcomes found",-1)])])):L("",!0),(n(!0),i(V,null,j((k=l.outcomes)==null?void 0:k.data,e=>{var B,S,M;return n(),i("tr",{key:e.id},[s("td",null,[s("span",cs,o(e.code),1)]),s("td",null,[s("strong",null,o(e.title),1)]),s("td",null,[s("small",null,o(e.description?e.description.substring(0,60)+"...":"N/A"),1)]),s("td",null,[s("small",null,o(e.responsible_entity||"N/A"),1)]),s("td",null,[s("small",null,[s("span",bs,o(((B=e.presidential_priorities)==null?void 0:B.length)||0)+" Priorities",1),s("span",ms,o(((S=e.sectoral_goals)==null?void 0:S.length)||0)+" Goals",1),s("span",vs,o(((M=e.nlgas_pillars)==null?void 0:M.length)||0)+" Pillars",1)])]),s("td",null,[s("div",gs,[f(v(h),{href:a.route("programs.bond-outcomes.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:p(()=>[...t[16]||(t[16]=[s("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),s("button",{onClick:xs=>H(e.id),class:"btn btn-sm btn-outline-danger"},[...t[17]||(t[17]=[s("i",{class:"bi bi-trash"},null,-1)])],8,ps)])])])}),128))])])]),(C=l.outcomes)!=null&&C.data&&l.outcomes.data.length>0?(n(),i("div",fs,[s("div",hs," Showing "+o(l.outcomes.from)+" to "+o(l.outcomes.to)+" of "+o(l.outcomes.total)+" entries ",1),s("nav",null,[s("ul",_s,[(n(!0),i(V,null,j(l.outcomes.links,e=>(n(),i("li",{key:e.label,class:_(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(n(),O(v(h),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(n(),i("span",{key:1,class:"page-link",innerHTML:e.label},null,8,ys))],2))),128))])])])):L("",!0)])])])])]}),_:1}))}},Bs=F(ws,[["__scopeId","data-v-980e4122"]]);export{Bs as default};
