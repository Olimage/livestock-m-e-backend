import{r as c,w as I,A as B,g as A,h as p,i as f,b as s,u as v,j as O,d as m,t as o,q as L,v as $,y as D,l as h,c as r,s as V,n as _,f as n,F as G,e as j}from"./app-DgP9aeh5.js";import{B as P}from"./BeLayout-CxarqoJO.js";import{_ as E}from"./Includes-2to_EoWf.js";const F={class:"row mb-2"},R={class:"col-lg-12"},U={class:"text-muted"},q={class:"row card mb-2"},z={class:"col-sm-12 col-md-12 col-lg-12"},J={class:"card-body"},K={class:"row"},Q={class:"col-md-4"},W={class:"card text-bg-success mb-3"},X={class:"card-body"},Y={class:"card-title text-white"},Z={class:"row mb-3"},ss={class:"col-md-8 mb-2"},ts={class:"input-group"},es={class:"col-md-2 mb-2"},ls={class:"col-md-2 mb-2"},os={class:"row"},as={class:"col-lg-12"},ns={class:"card"},rs={class:"card-body"},is={class:"table-responsive"},ds={class:"table table-hover align-middle"},cs={key:0},us={class:"badge bg-success"},bs={class:"badge bg-primary me-1"},gs={class:"badge bg-warning me-1"},vs={class:"badge bg-secondary"},ms={class:"btn-group",role:"group"},ps=["onClick"],fs={key:0,class:"d-flex justify-content-between align-items-center mt-3"},hs={class:"text-muted small"},_s={class:"pagination mb-0"},ys=["innerHTML"],ws={__name:"Index",props:{goals:Object,filters:Object,totalCount:Number},setup(l){const u=l,b=c(u.filters.search||""),g=c(u.filters.per_page||10),d=c(u.filters.sort_by||"created_at"),i=c(u.filters.sort_order||"desc"),y=c(null);I([b,g,d,i],()=>{clearTimeout(y.value),y.value=setTimeout(()=>{B.get("/programs/sectoral-goals",{search:b.value,per_page:g.value,sort_by:d.value,sort_order:i.value},{preserveState:!0,preserveScroll:!0})},300)});const H=a=>{confirm("Are you sure you want to delete this sectoral goal?")&&B.delete(`/programs/sectoral-goals/${a}`,{preserveScroll:!0})},w=a=>{d.value===a?i.value=i.value==="asc"?"desc":"asc":(d.value=a,i.value="asc")},x=a=>d.value!==a?"bi bi-arrow-down-up":i.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(a,t)=>(n(),A(P,null,{default:p(()=>{var S,T,k;return[f(v(O),{title:"Sectoral Goals"}),t[18]||(t[18]=s("div",{class:"row"},[s("div",{class:"col-lg-12"},[s("h5",{class:"mt-4 fw-400"},"Sectoral Goals Management"),s("hr")])],-1)),s("div",F,[s("div",R,[s("p",U,[t[4]||(t[4]=m(" Manage all sectoral goals. Total: ",-1)),s("strong",null,o(l.totalCount),1)])])]),s("div",q,[s("div",z,[s("div",J,[s("div",K,[s("div",Q,[s("div",W,[t[5]||(t[5]=s("div",{class:"card-header"},"Total Sectoral Goals",-1)),s("div",X,[s("h3",Y,o(l.totalCount),1)])])])])])]),s("div",Z,[s("div",ss,[s("div",ts,[t[6]||(t[6]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-search"})],-1)),L(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[$,b.value]])])]),s("div",es,[L(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),class:"form-select"},[...t[7]||(t[7]=[s("option",{value:10},"10 per page",-1),s("option",{value:25},"25 per page",-1),s("option",{value:50},"50 per page",-1),s("option",{value:100},"100 per page",-1)])],512),[[D,g.value]])]),s("div",ls,[f(v(h),{href:a.route("programs.sectoral-goals.create"),class:"btn btn-success w-100"},{default:p(()=>[...t[8]||(t[8]=[s("i",{class:"bi bi-plus-circle"},null,-1),m(" Add Goal ",-1)])]),_:1},8,["href"])])])]),s("div",os,[s("div",as,[s("div",ns,[s("div",rs,[s("div",is,[s("table",ds,[s("thead",null,[s("tr",null,[s("th",{onClick:t[2]||(t[2]=e=>w("code")),class:"sortable"},[t[9]||(t[9]=m(" Code ",-1)),s("i",{class:_(x("code"))},null,2)]),s("th",{onClick:t[3]||(t[3]=e=>w("title")),class:"sortable"},[t[10]||(t[10]=m(" Title ",-1)),s("i",{class:_(x("title"))},null,2)]),t[11]||(t[11]=s("th",null,"Description",-1)),t[12]||(t[12]=s("th",null,"Responsible Entity",-1)),t[13]||(t[13]=s("th",null,"Relationships",-1)),t[14]||(t[14]=s("th",null,"Actions",-1))])]),s("tbody",null,[(S=l.goals)!=null&&S.data&&l.goals.data.length===0?(n(),r("tr",cs,[...t[15]||(t[15]=[s("td",{colspan:"6",class:"text-center text-muted"},"No goals found",-1)])])):V("",!0),(n(!0),r(G,null,j((T=l.goals)==null?void 0:T.data,e=>{var C,M,N;return n(),r("tr",{key:e.id},[s("td",null,[s("span",us,o(e.code),1)]),s("td",null,[s("strong",null,o(e.title),1)]),s("td",null,[s("small",null,o(e.description?e.description.substring(0,60)+"...":"N/A"),1)]),s("td",null,[s("small",null,o(e.responsible_entity||"N/A"),1)]),s("td",null,[s("small",null,[s("span",bs,o(((C=e.presidential_priorities)==null?void 0:C.length)||0)+" Priorities",1),s("span",gs,o(((M=e.bond_outcomes)==null?void 0:M.length)||0)+" Outcomes",1),s("span",vs,o(((N=e.nlgas_pillars)==null?void 0:N.length)||0)+" Pillars",1)])]),s("td",null,[s("div",ms,[f(v(h),{href:a.route("programs.sectoral-goals.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:p(()=>[...t[16]||(t[16]=[s("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),s("button",{onClick:xs=>H(e.id),class:"btn btn-sm btn-outline-danger"},[...t[17]||(t[17]=[s("i",{class:"bi bi-trash"},null,-1)])],8,ps)])])])}),128))])])]),(k=l.goals)!=null&&k.data&&l.goals.data.length>0?(n(),r("div",fs,[s("div",hs," Showing "+o(l.goals.from)+" to "+o(l.goals.to)+" of "+o(l.goals.total)+" entries ",1),s("nav",null,[s("ul",_s,[(n(!0),r(G,null,j(l.goals.links,e=>(n(),r("li",{key:e.label,class:_(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(n(),A(v(h),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(n(),r("span",{key:1,class:"page-link",innerHTML:e.label},null,8,ys))],2))),128))])])])):V("",!0)])])])])]}),_:1}))}},Cs=E(ws,[["__scopeId","data-v-dac2d16b"]]);export{Cs as default};
