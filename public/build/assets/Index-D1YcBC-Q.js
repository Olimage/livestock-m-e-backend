import{r as u,w as H,A as L,g as M,h as g,i as f,b as s,u as m,j as I,d as p,t as o,q as B,v as O,y as $,l as h,c as i,s as P,n as _,f as n,F as G,e as V}from"./app-DgP9aeh5.js";import{B as D}from"./BeLayout-CxarqoJO.js";import{_ as E}from"./Includes-2to_EoWf.js";const F={class:"row mb-2"},R={class:"col-lg-12"},U={class:"text-muted"},q={class:"row card mb-2"},z={class:"col-sm-12 col-md-12 col-lg-12"},J={class:"card-body"},K={class:"row"},Q={class:"col-md-4"},W={class:"card text-bg-success mb-3"},X={class:"card-body"},Y={class:"card-title text-white"},Z={class:"row mb-3"},ss={class:"col-md-8 mb-2"},ts={class:"input-group"},es={class:"col-md-2 mb-2"},ls={class:"col-md-2 mb-2"},os={class:"row"},as={class:"col-lg-12"},ns={class:"card"},is={class:"card-body"},rs={class:"table-responsive"},ds={class:"table table-hover align-middle"},us={key:0},cs={class:"badge bg-success"},bs={class:"badge bg-primary me-1"},vs={class:"badge bg-info me-1"},ms={class:"badge bg-warning"},ps={class:"btn-group",role:"group"},gs=["onClick"],fs={key:0,class:"d-flex justify-content-between align-items-center mt-3"},hs={class:"text-muted small"},_s={class:"pagination mb-0"},ys=["innerHTML"],ws={__name:"Index",props:{pillars:Object,filters:Object,totalCount:Number},setup(l){const c=l,b=u(c.filters.search||""),v=u(c.filters.per_page||10),d=u(c.filters.sort_by||"created_at"),r=u(c.filters.sort_order||"desc"),y=u(null);H([b,v,d,r],()=>{clearTimeout(y.value),y.value=setTimeout(()=>{L.get("/programs/nlgas-pillars",{search:b.value,per_page:v.value,sort_by:d.value,sort_order:r.value},{preserveState:!0,preserveScroll:!0})},300)});const j=a=>{confirm("Are you sure you want to delete this NLGAS pillar?")&&L.delete(`/programs/nlgas-pillars/${a}`,{preserveScroll:!0})},w=a=>{d.value===a?r.value=r.value==="asc"?"desc":"asc":(d.value=a,r.value="asc")},x=a=>d.value!==a?"bi bi-arrow-down-up":r.value==="asc"?"bi bi-arrow-up":"bi bi-arrow-down";return(a,t)=>(n(),M(D,null,{default:g(()=>{var S,N,T;return[f(m(I),{title:"NLGAS Pillars"}),t[18]||(t[18]=s("div",{class:"row"},[s("div",{class:"col-lg-12"},[s("h5",{class:"mt-4 fw-400"},"NLGAS Pillars Management"),s("hr")])],-1)),s("div",F,[s("div",R,[s("p",U,[t[4]||(t[4]=p(" Manage all NLGAS pillars. Total: ",-1)),s("strong",null,o(l.totalCount),1)])])]),s("div",q,[s("div",z,[s("div",J,[s("div",K,[s("div",Q,[s("div",W,[t[5]||(t[5]=s("div",{class:"card-header"},"Total NLGAS Pillars",-1)),s("div",X,[s("h3",Y,o(l.totalCount),1)])])])])])]),s("div",Z,[s("div",ss,[s("div",ts,[t[6]||(t[6]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-search"})],-1)),B(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),type:"text",class:"form-control",placeholder:"Search by code, title, or description..."},null,512),[[O,b.value]])])]),s("div",es,[B(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),class:"form-select"},[...t[7]||(t[7]=[s("option",{value:10},"10 per page",-1),s("option",{value:25},"25 per page",-1),s("option",{value:50},"50 per page",-1),s("option",{value:100},"100 per page",-1)])],512),[[$,v.value]])]),s("div",ls,[f(m(h),{href:a.route("programs.nlgas-pillars.create"),class:"btn btn-success w-100"},{default:g(()=>[...t[8]||(t[8]=[s("i",{class:"bi bi-plus-circle"},null,-1),p(" Add Pillar ",-1)])]),_:1},8,["href"])])])]),s("div",os,[s("div",as,[s("div",ns,[s("div",is,[s("div",rs,[s("table",ds,[s("thead",null,[s("tr",null,[s("th",{onClick:t[2]||(t[2]=e=>w("code")),class:"sortable"},[t[9]||(t[9]=p(" Code ",-1)),s("i",{class:_(x("code"))},null,2)]),s("th",{onClick:t[3]||(t[3]=e=>w("title")),class:"sortable"},[t[10]||(t[10]=p(" Title ",-1)),s("i",{class:_(x("title"))},null,2)]),t[11]||(t[11]=s("th",null,"Description",-1)),t[12]||(t[12]=s("th",null,"Responsible Entity",-1)),t[13]||(t[13]=s("th",null,"Relationships",-1)),t[14]||(t[14]=s("th",null,"Actions",-1))])]),s("tbody",null,[(S=l.pillars)!=null&&S.data&&l.pillars.data.length===0?(n(),i("tr",us,[...t[15]||(t[15]=[s("td",{colspan:"6",class:"text-center text-muted"},"No pillars found",-1)])])):P("",!0),(n(!0),i(G,null,V((N=l.pillars)==null?void 0:N.data,e=>{var k,A,C;return n(),i("tr",{key:e.id},[s("td",null,[s("span",cs,o(e.code),1)]),s("td",null,[s("strong",null,o(e.title),1)]),s("td",null,[s("small",null,o(e.description?e.description.substring(0,60)+"...":"N/A"),1)]),s("td",null,[s("small",null,o(e.responsible_entity||"N/A"),1)]),s("td",null,[s("small",null,[s("span",bs,o(((k=e.presidential_priorities)==null?void 0:k.length)||0)+" Priorities",1),s("span",vs,o(((A=e.sectoral_goals)==null?void 0:A.length)||0)+" Goals",1),s("span",ms,o(((C=e.bond_outcomes)==null?void 0:C.length)||0)+" Outcomes",1)])]),s("td",null,[s("div",ps,[f(m(h),{href:a.route("programs.nlgas-pillars.edit",e.id),class:"btn btn-sm btn-outline-primary"},{default:g(()=>[...t[16]||(t[16]=[s("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["href"]),s("button",{onClick:xs=>j(e.id),class:"btn btn-sm btn-outline-danger"},[...t[17]||(t[17]=[s("i",{class:"bi bi-trash"},null,-1)])],8,gs)])])])}),128))])])]),(T=l.pillars)!=null&&T.data&&l.pillars.data.length>0?(n(),i("div",fs,[s("div",hs," Showing "+o(l.pillars.from)+" to "+o(l.pillars.to)+" of "+o(l.pillars.total)+" entries ",1),s("nav",null,[s("ul",_s,[(n(!0),i(G,null,V(l.pillars.links,e=>(n(),i("li",{key:e.label,class:_(["page-item",{active:e.active,disabled:!e.url}])},[e.url?(n(),M(m(h),{key:0,href:e.url,class:"page-link",innerHTML:e.label},null,8,["href","innerHTML"])):(n(),i("span",{key:1,class:"page-link",innerHTML:e.label},null,8,ys))],2))),128))])])])):P("",!0)])])])])]}),_:1}))}},ks=E(ws,[["__scopeId","data-v-ad4b1d8e"]]);export{ks as default};
