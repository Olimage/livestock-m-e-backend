import{q as x,c as _,o as d,e as y,w as k,F as I,r as L,u as f,a as u,n as g,t as w,x as N,y as C,z as v,A as E,B as T,f as B}from"./app-DHIe5pNT.js";const z=(r,i)=>{const o=r.__vccOpts||r;for(const[s,c]of i)o[s]=c;return o},l=x([]);let A=0;function m(){const r=(t,n="info",a=5e3)=>{const p=A++,b={id:p,message:t,type:n,duration:a,visible:!0};return l.value.push(b),a>0&&setTimeout(()=>i(p),a),p},i=t=>{const n=l.value.findIndex(a=>a.id===t);n>-1&&l.value.splice(n,1)};return{toasts:l,show:r,remove:i,success:(t,n)=>r(t,"success",n),error:(t,n)=>r(t,"error",n),warning:(t,n)=>r(t,"warning",n),info:(t,n)=>r(t,"info",n)}}const O={class:"toast-container position-fixed top-0 end-0 p-3",style:{"z-index":"9999"}},P={class:"me-auto text-white text-capitalize"},j=["onClick"],F={class:"toast-body"},M={__name:"ToastNotification",setup(r){const{toasts:i,remove:o}=m(),s=e=>{const t={success:"bi-check-circle-fill",error:"bi-x-circle-fill",warning:"bi-exclamation-triangle-fill",info:"bi-info-circle-fill"};return t[e]||t.info},c=e=>{const t={success:"bg-success",error:"bg-danger",warning:"bg-warning",info:"bg-info"};return t[e]||t.info};return(e,t)=>(d(),_("div",O,[y(N,{name:"toast"},{default:k(()=>[(d(!0),_(I,null,L(f(i),n=>(d(),_("div",{key:n.id,class:"toast show mb-2",role:"alert","aria-live":"assertive","aria-atomic":"true"},[u("div",{class:g(["toast-header",c(n.type)])},[u("i",{class:g(["bi",s(n.type),"me-2","text-white"])},null,2),u("strong",P,w(n.type),1),u("button",{type:"button",class:"btn-close btn-close-white",onClick:a=>f(o)(n.id),"aria-label":"Close"},null,8,j)],2),u("div",F,w(n.message),1)]))),128))]),_:1})]))}},S=z(M,[["__scopeId","data-v-0f7411da"]]),$={__name:"Includes",setup(r){const i=C(),o=m();v(()=>i.props.flash,e=>{e!=null&&e.success&&o.success(e.success),e!=null&&e.error&&o.error(e.error),e!=null&&e.warning&&o.warning(e.warning),e!=null&&e.info&&o.info(e.info)},{deep:!0,immediate:!0}),v(()=>i.props.errors,e=>{if(e&&Object.keys(e).length>0){const t=Object.values(e)[0],n=Array.isArray(t)?t[0]:t;o.error(n)}},{deep:!0});let s=null;const c=()=>{navigator.onLine?s&&(o.remove(s),s=null,o.success("Internet connection restored")):s||(s=o.error("No internet connection. Please check your network.",0))};return E(()=>{window.addEventListener("online",c),window.addEventListener("offline",c),navigator.onLine||(s=o.error("No internet connection. Please check your network.",0))}),T(()=>{window.removeEventListener("online",c),window.removeEventListener("offline",c),s&&o.remove(s)}),(e,t)=>(d(),B(S))}};export{z as _,$ as a};
