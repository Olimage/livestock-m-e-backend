import{p as x,c as _,o as d,a as k,k as y,F as I,r as L,d as m,b as u,n as f,t as g,T as N,z as T,A as w,x as C,B as E,j as B}from"./app-CKt5NQK8.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const l=x([]);let j=0;function v(){const s=(n,t="info",a=5e3)=>{const p=j++,b={id:p,message:n,type:t,duration:a,visible:!0};return l.value.push(b),a>0&&setTimeout(()=>i(p),a),p},i=n=>{const t=l.value.findIndex(a=>a.id===n);t>-1&&l.value.splice(t,1)};return{toasts:l,show:s,remove:i,success:(n,t)=>s(n,"success",t),error:(n,t)=>s(n,"error",t),warning:(n,t)=>s(n,"warning",t),info:(n,t)=>s(n,"info",t)}}const A={class:"toast-container position-fixed top-0 end-0 p-3",style:{"z-index":"9999"}},P={class:"me-auto text-white text-capitalize"},F=["onClick"],M={class:"toast-body"},O={__name:"ToastNotification",setup(s){const{toasts:i,remove:o}=v(),r=e=>{const n={success:"bi-check-circle-fill",error:"bi-x-circle-fill",warning:"bi-exclamation-triangle-fill",info:"bi-info-circle-fill"};return n[e]||n.info},c=e=>{const n={success:"bg-success",error:"bg-danger",warning:"bg-warning",info:"bg-info"};return n[e]||n.info};return(e,n)=>(d(),_("div",A,[k(N,{name:"toast"},{default:y(()=>[(d(!0),_(I,null,L(m(i),t=>(d(),_("div",{key:t.id,class:"toast show mb-2",role:"alert","aria-live":"assertive","aria-atomic":"true"},[u("div",{class:f(["toast-header",c(t.type)])},[u("i",{class:f(["bi",r(t.type),"me-2","text-white"])},null,2),u("strong",P,g(t.type),1),u("button",{type:"button",class:"btn-close btn-close-white",onClick:a=>m(o)(t.id),"aria-label":"Close"},null,8,F)],2),u("div",M,g(t.message),1)]))),128))]),_:1})]))}},S=z(O,[["__scopeId","data-v-779e3667"]]),D={__name:"Includes",setup(s){const i=T(),o=v();w(()=>i.props.flash,e=>{e!=null&&e.success&&o.success(e.success),e!=null&&e.error&&o.error(e.error),e!=null&&e.warning&&o.warning(e.warning),e!=null&&e.info&&o.info(e.info)},{deep:!0,immediate:!0}),w(()=>i.props.errors,e=>{if(e&&Object.keys(e).length>0){const n=Object.values(e)[0],t=Array.isArray(n)?n[0]:n;o.error(t)}},{deep:!0});let r=null;const c=()=>{navigator.onLine?r&&(o.remove(r),r=null,o.success("Internet connection restored")):r||(r=o.error("No internet connection. Please check your network.",0))};return C(()=>{window.addEventListener("online",c),window.addEventListener("offline",c),navigator.onLine||(r=o.error("No internet connection. Please check your network.",0))}),E(()=>{window.removeEventListener("online",c),window.removeEventListener("offline",c),r&&o.remove(r)}),(e,n)=>(d(),B(S))}};export{D as _};
